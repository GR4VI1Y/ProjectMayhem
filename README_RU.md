# Приложение анализа продаж на Streamlit

Многоязычное веб-приложение, созданное с помощью Streamlit, для анализа и визуализации данных о продажах интернет-магазинов. Приложение поддерживает несколько языков (русский, английский, китайский) и позволяет пользователям загружать собственные данные для анализа.

## Возможности

- **Анализ данных**: Загрузка и анализ данных о продажах из файлов CSV и Excel
- **Фильтрация**: Фильтрация данных по диапазону дат и городу
- **Метрики KPI**: Отображение ключевых показателей эффективности (общая сумма продаж, средние ежедневные продажи, максимальные продажи)
- **Визуализация**: Интерактивные графики, показывающие тенденции продаж по времени, по городам и по дням недели
- **Многоязычность**: Интерфейс на русском, английском и китайском языках
- **Загрузка пользовательских данных**: Пользователи могут загружать свои собственные файлы CSV/Excel с поддерживаемым форматом
- **Поддержка Docker**: Контейнеризованное приложение для простого развертывания

## Поддерживаемый формат данных

Файл данных должен содержать следующие столбцы:
- 'Дата': дата продажи (в формате YYYY-MM-DD)
- 'Город': город покупателя
- 'Имя': имя покупателя
- 'Фамилия': фамилия покупателя
- 'Сумма': сумма покупки (числовое значение)
- 'Валюта': валюта, в которой совершена покупка (например, RUB, USD, EUR)

## Установка и настройка

### Предварительные требования
- Python 3.11 или выше
- Docker (для контейнеризованного развертывания)

### Локальная установка
1. Клонируйте репозиторий:
```bash
git clone https://github.com/yourusername/streamlit-sales-analysis.git
cd streamlit-sales-analysis
```

2. Создайте виртуальное окружение:
```bash
python -m venv venv
source venv/bin/activate  # На Linux/Mac
# или
venv\Scripts\activate  # На Windows
```

3. Установите зависимости:
```bash
pip install -r requirements.txt
```

4. Запустите приложение:
```bash
streamlit run web_app/app.py
```

Приложение будет доступно по адресу http://localhost:8501

### Развертывание с Docker
1. Соберите Docker-образ:
```bash
docker build -t streamlit-sales-app .
```

2. Запустите контейнер:
```bash
docker run -p 8501:8501 streamlit-sales-app
```

## Использование

1. Запустите приложение
2. Загрузите файл с данными о продажах (в формате CSV или Excel)
3. Примените необходимые фильтры (диапазон дат, город)
4. Просмотрите метрики KPI и интерактивные визуализации
5. Переключайтесь между языками с помощью переключателя языка

## Используемые технологии

- Python 3.11
- Streamlit
- Pandas
- Plotly
- OpenPyXL
- Docker

## Структура проекта

```
├── .github/workflows/      # Рабочие процессы GitHub Actions
├── web_app/               # Основной код приложения
│   ├── app.py             # Главный файл приложения
│   ├── analysis.py        # Модуль анализа данных
│   ├── data_loader.py     # Модуль загрузки данных
│   ├── plotting.py        # Модуль визуализации
│   └── pages/faq.py       # Страница часто задаваемых вопросов
├── Dockerfile             # Конфигурация Docker
├── requirements.txt       # Зависимости Python
├── README.md              # Документация проекта
└── agents.md              # Документация агентов
```

## Тестирование

Запустите тесты приложения:
```bash
python -m pytest web_app/test_analysis.py -v
```

## Агенты

Приложение реализует архитектуру с несколькими агентами:

### 1. Агент анализа данных
- Отвечает за вычисление метрик и статистический анализ
- Использует модуль analysis.py
- Обеспечивает точность и эффективность расчетов

### 2. Агент визуализации
- Отвечает за создание графиков и диаграмм
- Использует модуль plotting.py
- Обеспечивает наглядное представление данных

### 3. Агент загрузки данных
- Отвечает за загрузку и предварительную обработку данных
- Использует модуль data_loader.py
- Обрабатывает различные форматы файлов (CSV, Excel)

### 4. Агент интернационализации
- Отвечает за многоязычную поддержку интерфейса
- Обрабатывает переводы и локализацию
- Обеспечивает корректное отображение данных на разных языках

## Сотрудничество

1. Сделайте форк репозитория
2. Создайте ветку для новой функции (`git checkout -b feature/amazing-feature`)
3. Зафиксируйте изменения (`git commit -m 'Add amazing feature'`)
4. Отправьте изменения в репозиторий (`git push origin feature/amazing-feature`)
5. Откройте Pull Request

## Лицензия

Этот проект лицензирован по лицензии MIT - см. файл LICENSE для получения подробной информации.