# Агенты для веб-приложения Streamlit

## Описание проекта
Веб-приложение Streamlit для анализа и визуализации данных о продажах интернет-магазинов. Приложение поддерживает мультиязычность (русский, английский, китайский) и позволяет пользователям загружать собственные данные для анализа.

## Архитектура приложения

### 1. app.py
Основной файл приложения, реализующий интерфейс Streamlit и логику отображения данных.
- Загрузка данных (локальных или пользовательских)
- Фильтрация по дате и городу
- Отображение метрик KPI
- Визуализация данных
- Переключение языка интерфейса

### 2. data_loader.py
Модуль для загрузки и предварительной обработки данных.
- Функции загрузки данных из Excel и CSV файлов
- Проверка структуры данных
- Обработка ошибок загрузки

### 3. plotting.py
Модуль для создания визуализаций.
- Графики продаж по времени
- Графики продаж по городам
- Графики продаж по дням недели
- Поддержка мультиязычности для подписей

### 4. analysis.py
Модуль для вычисления метрик и анализа данных.
- Расчет KPI (общая сумма продаж, средние ежедневные продажи, максимальные продажи)
- Статистический анализ
- Функции обработки данных

### 5. pages/faq.py
Отдельная страница с часто задаваемыми вопросами.
- Информация о формате данных
- Ответы на частые вопросы
- Поддержка мультиязычности

## Возможности приложения

### Анализ данных
- Загрузка данных из CSV и Excel файлов
- Фильтрация по диапазону дат
- Фильтрация по городу
- Отображение метрик KPI
- Визуализация данных в виде графиков
- Отображение таблицы с данными

### Мультиязычность
- Поддержка русского, английского и китайского языков
- Автоматический перевод интерфейса
- Перевод названий городов
- Перевод заголовков и меток

### Пользовательские данные
- Загрузка собственных CSV/Excel файлов
- Проверка структуры данных
- Валидация обязательных колонок
- Поддержка формата: 'Дата', 'Город', 'Имя', 'Фамилия', 'Сумма', 'Валюта'

## Технологии
- Python 3.14
- Streamlit
- Pandas
- Plotly
- OpenPyXL

## Структура данных
Файл данных должен содержать следующие колонки:
- 'Дата': дата продажи (в формате YYYY-MM-DD)
- 'Город': город покупателя
- 'Имя': имя покупателя
- 'Фамилия': фамилия покупателя
- 'Сумма': сумма покупки (числовое значение)
- 'Валюта': валюта, в которой совершена покупка (например, RUB, USD, EUR)

## Запуск приложения
```bash
cd web_app
streamlit run app.py
```

Приложение будет доступно по адресу http://localhost:8501

## Агенты

### 1. Агент анализа данных
- Отвечает за вычисление метрик и статистический анализ
- Использует модуль analysis.py
- Обеспечивает точность и эффективность расчетов

### 2. Агент визуализации
- Отвечает за создание графиков и диаграмм
- Использует модуль plotting.py
- Обеспечивает наглядное представление данных

### 3. Агент загрузки данных
- Отвечает за загрузку и предварительную обработку данных
- Использует модуль data_loader.py
- Обрабатывает различные форматы файлов (CSV, Excel)

### 4. Агент интернационализации
- Отвечает за мультиязычную поддержку интерфейса
- Обрабатывает переводы и локализацию
- Обеспечивает корректное отображение данных на разных языках

## Установка и настройка

### Создание виртуального окружения
```bash
python -m venv venv
source venv/bin/activate  # На Linux/Mac
# или
venv\Scripts\activate  # На Windows
```

### Установка зависимостей
```bash
pip install -r requirements.txt
```

### Файл зависимостей (requirements.txt)
```
streamlit==1.31.0
pandas>=1.3.0
plotly>=4.0.0
openpyxl>=3.0.0
```